[gd_scene load_steps=21 format=3 uid="uid://ckaeu56snn8lf"]

[ext_resource type="PackedScene" uid="uid://d4nnvm1whdmuw" path="res://city/city.glb" id="1_2f1qc"]
[ext_resource type="PackedScene" uid="uid://clpkg5oq8uf5d" path="res://city/cars/car.tscn" id="2_5agbo"]
[ext_resource type="PackedScene" uid="uid://bt14sma31yo57" path="res://player/player.tscn" id="2_6r06e"]
[ext_resource type="ArrayOccluder3D" uid="uid://qwd5jbysajxf" path="res://city/city.occ" id="2_tnll3"]
[ext_resource type="AudioStream" uid="uid://ch1t6iauo8ym4" path="res://sfx/forest-ambience.wav" id="3_lnb5n"]

[sub_resource type="Curve3D" id="Curve3D_tnll3"]
closed = true
_data = {
"points": PackedVector3Array(-2.592041, -2.3841858e-07, 1.9889412, 2.592041, 2.3841858e-07, -1.9889412, -51.864147, -2.3841858e-07, -52.823357, 0, 0, 0, 0, 0, 0, -39.09829, 0, -53.83747, 0, 0, 0, 0, 0, 0, 39.75002, 0, -54.82103, -2.960743, 2.3841858e-07, -3.8130455, 2.960743, -2.3841858e-07, 3.8130455, 51.522232, -2.3841858e-07, -52.26415, 0, 0, 0, 0, 0, 0, 53.218765, 0, -39.78853, 0, 0, 0, 0, 0, 0, 53.39633, -2.3841858e-07, 39.5065, 1.6252518, 0, -2.476574, -1.6252518, 0, 2.476574, 53.241547, -2.3841858e-07, 52.12155, 0, 0, 0, 0, 0, 0, 39.15247, 0, 54.341534, 0, 0, 0, 0, 0, 0, -37.891685, -2.3841858e-07, 54.10937, 2.089611, 0, 2.7087555, -2.089611, 0, -2.7087555, -52.28678, -2.3841858e-07, 51.942368, 0, 0, 0, 0, 0, 0, -54.414116, -1.1920929e-07, 37.841175, 0, 0, 0, 0, 0, 0, -54.05494, -2.3841858e-07, -40.774323),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 12

[sub_resource type="Gradient" id="Gradient_6r06e"]
colors = PackedColorArray(0, 0, 0.81960785, 1, 0.73088616, 0.87084246, 1, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_tnll3"]
gradient = SubResource("Gradient_6r06e")
width = 32
height = 32
fill_from = Vector2(1, 0.8820225)

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_5agbo"]
panorama = SubResource("GradientTexture2D_tnll3")
filter = false

[sub_resource type="Sky" id="Sky_lnb5n"]
sky_material = SubResource("PanoramaSkyMaterial_5agbo")

[sub_resource type="Environment" id="Environment_2qnss"]
background_mode = 2
sky = SubResource("Sky_lnb5n")
ambient_light_source = 2
ambient_light_color = Color(1, 1, 1, 1)
tonemap_mode = 2

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_6r06e"]
direction = Vector3(0, 1, 0)
spread = 20.0
initial_velocity_min = 3.0
initial_velocity_max = 5.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_tnll3"]
shading_mode = 0
albedo_color = Color(0, 0.5647059, 1, 1)
billboard_mode = 1

[sub_resource type="QuadMesh" id="QuadMesh_5agbo"]
material = SubResource("StandardMaterial3D_tnll3")
size = Vector2(0.1, 0.1)

[sub_resource type="Curve" id="Curve_6r06e"]
_data = [Vector2(0, 0), 0.0, 4.152809, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_tnll3"]
curve = SubResource("Curve_6r06e")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_5agbo"]
emission_shape = 3
emission_box_extents = Vector3(2, 1, 5)
gravity = Vector3(0.2, -1, 0)
scale_curve = SubResource("CurveTexture_tnll3")
color = Color(0.3529412, 1, 0.16078432, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_lnb5n"]
shading_mode = 0
vertex_color_use_as_albedo = true
billboard_mode = 1
billboard_keep_scale = true

[sub_resource type="QuadMesh" id="QuadMesh_2qnss"]
material = SubResource("StandardMaterial3D_lnb5n")
size = Vector2(0.1, 0.1)

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_tnll3"]
emission_shape = 3
emission_box_extents = Vector3(2, 1, 1)
gravity = Vector3(0.2, -1, 0)
scale_curve = SubResource("CurveTexture_tnll3")
color = Color(0.3529412, 1, 0.16078432, 1)

[node name="city" instance=ExtResource("1_2f1qc")]

[node name="car_route_1" type="Path3D" parent="." index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.0000002, 0)
curve = SubResource("Curve3D_tnll3")

[node name="Car" parent="car_route_1" index="0" instance=ExtResource("2_5agbo")]
transform = Transform3D(0.60875946, -5.789377e-08, -0.79335153, 0, 1, -7.2973286e-08, 0.79335153, 4.4423413e-08, 0.60875946, -51.864147, -2.3841858e-07, -52.823357)

[node name="Car2" parent="car_route_1" index="1" instance=ExtResource("2_5agbo")]
transform = Transform3D(0.0124730645, 3.5829265e-10, -0.9999196, -2.8725157e-08, 1, 2.7755503e-17, 0.9999196, 2.8722997e-08, 0.0124730645, -2.0730016, 0, -54.299328)
progress = 50.0

[node name="Car3" parent="car_route_1" index="2" instance=ExtResource("2_5agbo")]
transform = Transform3D(-0.2679054, 1.554892e-08, -0.9634425, -2.4005114e-08, 1, 2.281396e-08, 0.9634425, 2.9239683e-08, -0.2679054, 47.86739, -8.6264976e-08, -54.445885)
progress = 100.0

[node name="Car4" parent="car_route_1" index="3" instance=ExtResource("2_5agbo")]
transform = Transform3D(-0.9999949, 1.5314913e-09, -0.0022393705, 1.5247579e-09, 1, 3.006713e-09, 0.0022393705, 3.003299e-09, -0.9999949, 53.292233, -9.865849e-08, -6.9759483)
progress = 150.0

[node name="Car5" parent="car_route_1" index="4" instance=ExtResource("2_5agbo")]
transform = Transform3D(-0.99614, 1.3195607e-09, -0.0877487, 1.324667e-09, 1, 3.4694362e-18, 0.0877487, -1.16238415e-10, -0.99614, 53.78982, -2.3841858e-07, 43.001156)
progress = 200.0

[node name="Car6" parent="car_route_1" index="5" instance=ExtResource("2_5agbo")]
transform = Transform3D(0.0030134355, -3.0670773e-09, 0.99999285, -9.114577e-09, 1, 3.0945493e-09, -0.99999285, -9.123885e-09, 0.0030134355, 12.914144, -8.119635e-08, 54.262466)
progress = 250.0

[node name="Car7" parent="car_route_1" index="6" instance=ExtResource("2_5agbo")]
transform = Transform3D(0.0030134355, -3.0670768e-09, 0.99999285, -9.114576e-09, 1, 3.0945488e-09, -0.99999285, -9.123884e-09, 0.0030134355, -37.079678, -2.3590576e-07, 54.111816)
progress = 300.0

[node name="Car8" parent="car_route_1" index="7" instance=ExtResource("2_5agbo")]
transform = Transform3D(0.99998695, 1.276525e-08, -0.0045687174, -1.2758422e-08, 1, 1.5163389e-09, 0.0045687174, -1.4580372e-09, 0.99998695, -54.322895, -1.4948559e-07, 17.874727)
progress = 350.0

[node name="Car9" parent="car_route_1" index="8" instance=ExtResource("2_5agbo")]
transform = Transform3D(0.99998695, 1.2765251e-08, -0.004568717, -1.2758423e-08, 1, 1.5163389e-09, 0.004568717, -1.4580372e-09, 0.99998695, -54.094456, -2.2530347e-07, -32.125233)
progress = 400.0

[node name="Car10" parent="car_route_1" index="9" instance=ExtResource("2_5agbo")]
transform = Transform3D(0.6087587, -5.789377e-08, -0.7933505, 0, 1, -7.2973194e-08, 0.7933505, 4.4423413e-08, 0.6087587, -57.95176, -2.3841858e-07, -60.756893)
h_offset = -10.0
speed = -20.0

[node name="Car11" parent="car_route_1" index="10" instance=ExtResource("2_5agbo")]
transform = Transform3D(0.012473048, 3.5829265e-10, -0.9999183, -2.8725118e-08, 1, 2.7755466e-17, 0.9999183, 2.8722997e-08, 0.012473048, -2.1977327, 2.872523e-07, -64.29855)
progress = 50.0
h_offset = -10.0
speed = -20.0

[node name="Car12" parent="car_route_1" index="11" instance=ExtResource("2_5agbo")]
transform = Transform3D(-0.26790503, 1.554892e-08, -0.9634411, -2.4005077e-08, 1, 2.2813927e-08, 0.9634411, 2.9239683e-08, -0.26790503, 50.54645, 1.537868e-07, -64.08034)
progress = 100.0
h_offset = -10.0
speed = -20.0

[node name="Car13" parent="car_route_1" index="12" instance=ExtResource("2_5agbo")]
transform = Transform3D(-0.99999344, 1.5314913e-09, -0.0022393672, 1.5247557e-09, 1, 3.0067089e-09, 0.0022393672, 3.003299e-09, -0.99999344, 63.292206, -1.1390611e-07, -6.998342)
progress = 150.0
h_offset = -10.0
speed = -20.0

[node name="Car14" parent="car_route_1" index="13" instance=ExtResource("2_5agbo")]
transform = Transform3D(-0.9961366, 1.3195607e-09, -0.0877484, 1.3246625e-09, 1, 3.4694244e-18, 0.0877484, -1.16238415e-10, -0.9961366, 63.751247, -2.5166528e-07, 42.123665)
progress = 200.0
h_offset = -10.0
speed = -20.0

[node name="Car15" parent="car_route_1" index="14" instance=ExtResource("2_5agbo")]
transform = Transform3D(0.0030134309, -3.0670773e-09, 0.9999913, -9.114562e-09, 1, 3.0945446e-09, -0.9999913, -9.123885e-09, 0.0030134309, 12.884009, 9.949659e-09, 64.26242)
progress = 250.0
h_offset = -10.0
speed = -20.0

[node name="Car16" parent="car_route_1" index="15" instance=ExtResource("2_5agbo")]
transform = Transform3D(0.0030134309, -3.0670768e-09, 0.9999913, -9.1145615e-09, 1, 3.0945442e-09, -0.9999913, -9.123884e-09, 0.0030134309, -37.109814, -1.4475975e-07, 64.11177)
progress = 300.0
h_offset = -10.0
speed = -20.0

[node name="Car17" parent="car_route_1" index="16" instance=ExtResource("2_5agbo")]
transform = Transform3D(0.9999854, 1.276525e-08, -0.0045687105, -1.2758402e-08, 1, 1.5163366e-09, 0.0045687105, -1.4580372e-09, 0.9999854, -64.32279, -2.190103e-08, 17.82904)
progress = 350.0
h_offset = -10.0
speed = -20.0

[node name="Car18" parent="car_route_1" index="17" instance=ExtResource("2_5agbo")]
transform = Transform3D(0.9999854, 1.2765251e-08, -0.00456871, -1.2758403e-08, 1, 1.5163366e-09, 0.00456871, -1.4580372e-09, 0.9999854, -64.09435, -9.7718896e-08, -32.17092)
progress = 400.0
h_offset = -10.0
speed = -20.0

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="." index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 11.402536, 6, -13.058315)
stream = ExtResource("3_lnb5n")
volume_db = -5.0
unit_size = 5.0
autoplay = true

[node name="AudioStreamPlayer3D2" type="AudioStreamPlayer3D" parent="." index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12.549795, 6, 12.767117)
stream = ExtResource("3_lnb5n")
volume_db = -5.0
unit_size = 5.0
autoplay = true

[node name="AudioStreamPlayer3D3" type="AudioStreamPlayer3D" parent="." index="3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15.434654, 5.999998, 11.844798)
stream = ExtResource("3_lnb5n")
volume_db = -5.0
unit_size = 5.0
autoplay = true

[node name="AudioStreamPlayer3D4" type="AudioStreamPlayer3D" parent="." index="4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14.297299, 5.999998, -13.2857065)
stream = ExtResource("3_lnb5n")
volume_db = -5.0
unit_size = 5.0
autoplay = true

[node name="OccluderInstance3D" type="OccluderInstance3D" parent="." index="5"]
occluder = ExtResource("2_tnll3")

[node name="WorldEnvironment" type="WorldEnvironment" parent="." index="6"]
environment = SubResource("Environment_2qnss")

[node name="Player" parent="." index="7" instance=ExtResource("2_6r06e")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 7)

[node name="whater_font_particles" type="GPUParticles3D" parent="." index="8"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.3235803, 0)
amount = 64
lifetime = 2.0
process_material = SubResource("ParticleProcessMaterial_6r06e")
draw_pass_1 = SubResource("QuadMesh_5agbo")

[node name="leafs" type="GPUParticles3D" parent="." index="9"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -16, 6, 11)
amount = 4
lifetime = 5.0
process_material = SubResource("ParticleProcessMaterial_5agbo")
draw_pass_1 = SubResource("QuadMesh_2qnss")

[node name="leafs6" type="GPUParticles3D" parent="." index="10"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12, 6, 15)
amount = 4
lifetime = 5.0
process_material = SubResource("ParticleProcessMaterial_5agbo")
draw_pass_1 = SubResource("QuadMesh_2qnss")

[node name="leafs7" type="GPUParticles3D" parent="." index="11"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 13, 6, -11)
amount = 4
lifetime = 5.0
process_material = SubResource("ParticleProcessMaterial_5agbo")
draw_pass_1 = SubResource("QuadMesh_2qnss")

[node name="leafs2" type="GPUParticles3D" parent="." index="12"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -16, 6, -14)
amount = 4
lifetime = 5.0
process_material = SubResource("ParticleProcessMaterial_5agbo")
draw_pass_1 = SubResource("QuadMesh_2qnss")

[node name="leafs3" type="GPUParticles3D" parent="." index="13"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10, 6, -14)
amount = 4
lifetime = 5.0
process_material = SubResource("ParticleProcessMaterial_tnll3")
draw_pass_1 = SubResource("QuadMesh_2qnss")

[node name="leafs5" type="GPUParticles3D" parent="." index="14"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 6, 6)
amount = 4
lifetime = 5.0
process_material = SubResource("ParticleProcessMaterial_tnll3")
draw_pass_1 = SubResource("QuadMesh_2qnss")

[node name="leafs4" type="GPUParticles3D" parent="." index="15"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 6, -5)
amount = 4
lifetime = 5.0
process_material = SubResource("ParticleProcessMaterial_tnll3")
draw_pass_1 = SubResource("QuadMesh_2qnss")

[node name="building_002" parent="." index="18"]
transform = Transform3D(-1, 0, -1.509958e-07, 0, 1, 0, 1.509958e-07, 0, -1, 32.213, -0.351, -35)
