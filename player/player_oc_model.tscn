[gd_scene load_steps=11 format=3 uid="uid://cwr63aj5eu6of"]

[ext_resource type="PackedScene" uid="uid://nn8pa6r0gpcc" path="res://player/player_oc.glb" id="1_c2gt8"]
[ext_resource type="AnimationLibrary" uid="uid://bf54s6a4qpao4" path="res://player/animation_lib/template_psx_charter.glb" id="2_2uvth"]
[ext_resource type="Script" uid="uid://cblq3in5u3elu" path="res://player/player_oc_model.gd" id="2_u2reh"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_2uvth"]
animation = &"template_psx_charter/jump"

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_u2reh"]
xfade_time = 0.1
input_0/name = "floor"
input_0/auto_advance = false
input_0/break_loop_at_end = false
input_0/reset = true
input_1/name = "air"
input_1/auto_advance = false
input_1/break_loop_at_end = false
input_1/reset = true

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_mtrva"]
animation = &"template_psx_charter/idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_8ssyp"]
animation = &"template_psx_charter/walk"
use_custom_timeline = true
timeline_length = 0.4
stretch_time_scale = true
start_offset = 0.0
loop_mode = 1

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_eoc1p"]
animation = &"template_psx_charter/run"
use_custom_timeline = true
timeline_length = 0.75
stretch_time_scale = true
start_offset = 0.0
loop_mode = 1

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_l7sbk"]
blend_point_0/node = SubResource("AnimationNodeAnimation_mtrva")
blend_point_0/pos = 0.0
blend_point_1/node = SubResource("AnimationNodeAnimation_8ssyp")
blend_point_1/pos = 1.0
blend_point_2/node = SubResource("AnimationNodeAnimation_eoc1p")
blend_point_2/pos = 2.0
min_space = 0.0
max_space = 2.0

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_tanhj"]
graph_offset = Vector2(-629.49097, 115.5365)
nodes/walk_speed/node = SubResource("AnimationNodeBlendSpace1D_l7sbk")
nodes/walk_speed/position = Vector2(-280, 160)
nodes/estate/node = SubResource("AnimationNodeTransition_u2reh")
nodes/estate/position = Vector2(60, 180)
nodes/Animation/node = SubResource("AnimationNodeAnimation_2uvth")
nodes/Animation/position = Vector2(-280, 380)
node_connections = [&"output", 0, &"estate", &"estate", 0, &"walk_speed", &"estate", 1, &"Animation"]

[node name="player_oc_model" instance=ExtResource("1_c2gt8")]
script = ExtResource("2_u2reh")

[node name="GeneralSkeleton" parent="metarig" index="0"]
bones/0/position = Vector3(0, 0.9571173, -0.055199984)
bones/0/rotation = Quaternion(1.4901161e-08, 0, 0, 1)
bones/1/rotation = Quaternion(0.0004133774, -2.3387164e-27, 9.4256417e-20, 1)
bones/2/rotation = Quaternion(0.0003382675, -2.6001356e-27, 7.728464e-20, 0.99999994)
bones/3/rotation = Quaternion(0, 2.9221646e-27, 5.011313e-27, 1)
bones/4/rotation = Quaternion(-0.00023749609, 4.0644602e-27, 5.2731003e-20, 1)
bones/5/rotation = Quaternion(-0.00014720693, -3.6580566e-27, -3.485261e-20, 1)
bones/6/rotation = Quaternion(-0.00033954647, -5.782259e-27, -7.811633e-20, 1)
bones/10/rotation = Quaternion(-0.05463647, 0.7568283, -0.6508503, -0.024894323)
bones/11/rotation = Quaternion(0.13465767, -0.70086884, 0.0863019, 0.6951275)
bones/12/rotation = Quaternion(-1.5318454e-07, 0.7071068, -1.14515416e-07, 0.7071068)
bones/14/rotation = Quaternion(-0.026016822, 0.753928, -0.65524864, -0.039562233)
bones/15/rotation = Quaternion(0.102514796, 0.7040275, -0.065701574, 0.69965667)
bones/16/rotation = Quaternion(-3.9715043e-05, -0.7071125, 2.919988e-05, 0.70710105)
bones/21/rotation = Quaternion(2.3694364e-08, -0.11863134, 0.99293846, -1.1593081e-08)
bones/22/rotation = Quaternion(-7.0426544e-16, 0.9800089, -0.19895387, -6.530007e-16)
bones/23/rotation = Quaternion(1.4148719e-08, 0.7601395, -0.6497598, -3.315e-09)
bones/26/rotation = Quaternion(1.8496761e-08, 0.18746342, 0.9822716, 4.1790145e-09)
bones/27/rotation = Quaternion(1.0815091e-16, 0.9830074, -0.18356661, 1.3365654e-15)
bones/28/rotation = Quaternion(-1.40178535e-08, 0.7086394, -0.7055709, 2.5132043e-09)

[node name="hair" parent="metarig/GeneralSkeleton" index="0"]
transform = Transform3D(1, 1.893981e-16, 5.2684592e-17, 5.4170626e-17, -0.52309126, 0.85227656, 1.8897832e-16, -0.85227644, -0.5230912, -2.3725132e-19, 1.8878148, -0.08146662)

[node name="spine_006" parent="metarig/GeneralSkeleton" index="1"]
transform = Transform3D(1, -2.22606e-19, -2.5628957e-22, 2.226061e-19, 0.9999997, -5.4820383e-05, 2.6849314e-22, 5.482044e-05, 0.9999996, -2.0181245e-19, 1.7284858, 0.025469638)

[node name="spine_004" parent="metarig/GeneralSkeleton" index="2"]
transform = Transform3D(1, -4.4854406e-19, 6.974418e-23, 4.485439e-19, 0.99999946, -0.0010283272, 3.9150594e-22, 0.0010283272, 0.99999946, -1.5089165e-19, 1.6054195, -0.0107387435)

[node name="hand_L" parent="metarig/GeneralSkeleton" index="3"]
transform = Transform3D(-0.02106538, 0.08940097, -0.9957731, -0.20064574, -0.97610825, -0.083390914, -0.97943753, 0.19804096, 0.038500015, 0.2484292, 1.0162263, -0.030086234)

[node name="forearm_L" parent="metarig/GeneralSkeleton" index="4"]
transform = Transform3D(-0.9957731, 0.089400925, 0.021065347, -0.08339086, -0.9761082, 0.20064612, 0.038500004, 0.19804133, 0.9794375, 0.23968515, 1.2628497, -0.12054621)

[node name="upper_arm_L" parent="metarig/GeneralSkeleton" index="5"]
transform = Transform3D(-0.0502959, 0.1468175, -0.98788416, 0.11029413, -0.9822694, -0.15159848, -0.99262565, -0.11658261, 0.03321101, 0.1953, 1.5318425, -0.026149362)

[node name="hand_R" parent="metarig/GeneralSkeleton" index="6"]
transform = Transform3D(0.0085643735, -0.08835849, 0.99605197, 0.32393205, -0.9421305, -0.08636045, 0.94604164, 0.32339278, 0.02055343, -0.24739212, 1.0161735, 0.058819078)

[node name="forearm_R" parent="metarig/GeneralSkeleton" index="7"]
transform = Transform3D(-0.9960534, -0.088342845, 0.008556835, 0.08634119, -0.9421002, 0.32402527, -0.020563958, 0.32348529, 0.94600976, -0.24009103, 1.2491707, -0.06259564)

[node name="upper_arm_R" parent="metarig/GeneralSkeleton" index="8"]
transform = Transform3D(-0.012616571, -0.13994491, 0.9900789, 0.092252426, -0.9860976, -0.1382066, 0.9956557, 0.08959347, 0.025351427, -0.1953, 1.5318425, -0.026149362)

[node name="spine_003" parent="metarig/GeneralSkeleton" index="9"]
transform = Transform3D(1, -3.43082e-19, 2.5774416e-22, 3.4308197e-19, 0.99999887, -0.001503319, 2.580178e-22, 0.001503319, 0.99999887, -8.484699e-20, 1.4129115, -0.005528129)

[node name="spine_001" parent="metarig/GeneralSkeleton" index="10"]
transform = Transform3D(1, -1.8851281e-19, 7.7922254e-23, 1.8851281e-19, 0.99999964, -0.00082678447, 7.7937223e-23, 0.00082678447, 0.99999964, 0, 1.1045175, -0.017199993)

[node name="foot_L" parent="metarig/GeneralSkeleton" index="11"]
transform = Transform3D(-0.99999976, 6.867909e-08, -1.1876087e-08, -5.7330794e-08, -0.71362734, 0.70052534, 3.963635e-08, 0.7005254, 0.71362746, 0.098, 0.15353027, -0.4038751)

[node name="shin_L" parent="metarig/GeneralSkeleton" index="12"]
transform = Transform3D(0.99999976, -3.398375e-09, -5.264731e-08, 2.8644214e-08, -0.80304813, 0.595914, -4.4303473e-08, -0.595914, -0.80304813, 0.09800001, 0.48981106, -0.098545745)

[node name="thigh_L" parent="metarig/GeneralSkeleton" index="13"]
transform = Transform3D(-0.9999999, 1.740064e-08, 4.9804683e-08, -2.8644216e-08, -0.97185314, -0.23558721, 4.4303476e-08, -0.23558721, 0.9718532, 0.098, 1.0192174, -0.012399975)

[node name="foot_R" parent="metarig/GeneralSkeleton" index="14"]
transform = Transform3D(-1, 1.8504327e-08, 3.836289e-08, 3.8429107e-08, 0.0035917782, 0.9999936, 1.8366414e-08, 0.9999936, -0.003591659, -0.098, 0.08476442, 0.1814613)

[node name="shin_R" parent="metarig/GeneralSkeleton" index="15"]
transform = Transform3D(1, -1.4868537e-08, -3.4889894e-08, -1.5144787e-08, -0.9999686, -0.007931173, -3.4770867e-08, 0.007931173, -0.9999686, -0.098, 0.5371053, 0.22267476)

[node name="thigh_R" parent="metarig/GeneralSkeleton" index="16"]
transform = Transform3D(-1, -1.274922e-09, 3.7904513e-08, 1.5144785e-08, -0.92971504, 0.36827996, 3.4770864e-08, 0.36827996, 0.9297149, -0.098, 1.0192174, -0.012399975)

[node name="spine" parent="metarig/GeneralSkeleton" index="17"]
transform = Transform3D(1, 0, 0, 0, 1, -2.9802322e-08, 0, 2.9802322e-08, 1, 0, 0.9571173, -0.055199984)

[node name="SpringBoneSimulator3D" type="SpringBoneSimulator3D" parent="metarig/GeneralSkeleton" index="18"]
setting_count = 1
settings/0/root_bone_name = "hair"
settings/0/root_bone = 7
settings/0/end_bone_name = "hair.001"
settings/0/end_bone = 8
settings/0/extend_end_bone = false
settings/0/center_from = 0
settings/0/individual_config = false
settings/0/rotation_axis = 3
settings/0/radius/value = 0.02
settings/0/radius/damping_curve = null
settings/0/stiffness/value = 1.0
settings/0/stiffness/damping_curve = null
settings/0/drag/value = 0.4
settings/0/drag/damping_curve = null
settings/0/gravity/value = 0.0
settings/0/gravity/damping_curve = null
settings/0/gravity/direction = Vector3(0, -1, 0)
settings/0/enable_all_child_collisions = true
settings/0/exclude_collision_count = 0

[node name="AnimationPlayer" type="AnimationPlayer" parent="metarig" index="1"]
root_node = NodePath("../..")
libraries = {
&"template_psx_charter": ExtResource("2_2uvth")
}

[node name="AnimationTree" type="AnimationTree" parent="metarig" index="2"]
root_node = NodePath("../..")
tree_root = SubResource("AnimationNodeBlendTree_tanhj")
anim_player = NodePath("../AnimationPlayer")
parameters/walk_speed/blend_position = 1.0044776
parameters/estate/current_state = "floor"
parameters/estate/transition_request = ""
parameters/estate/current_index = 0
